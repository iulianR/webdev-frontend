<!doctype html>

<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script>
var create = function (resource, data, callback) {
	/**
	 * @param {String} resource
	 * @param {Object} data
	 * @param {Function} callback
	 */
	$.ajax({
		method: 'POST',
		url: 'https://webdev-c9-alexandrutopliceanu.c9.io/' + resource,
		dataType: 'json',
		data: data,
		success: function onSuccess(data) {
			callback(null, data);
		},
		error: function onError(error) {
			callback(error);
		}
	});
};

var read = function (resource, callback) {
	/**
	 * @param {String} resource
	 * @param {Function} callback
	*/
	$.ajax({
		method: 'GET',
		url: 'https://webdev-c9-alexandrutopliceanu.c9.io/' + resource,
		success: function onSuccess(data) {
			callback(null, data);
		},
		error: function onError(error) {
			callback(error);
		}
	});
};

create('users', {name: 'Iulian'}, function (error, data) { // functie anonimÄƒ
	if (error) console.log('Eroare:', error.message);
	else console.log('Success:', data);
});

read('users', function (error, data) {
	if (error) console.log('Eroare:', error.message);
	else console.log('Success:', JSON.stringify(data));
});

setTimeout(function() {
	console.log('something');
}, 10000);

</script>
